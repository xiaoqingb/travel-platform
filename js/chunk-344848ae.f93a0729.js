(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-344848ae"],{"0d03":function(t,e,i){var n=i("6eeb"),s=Date.prototype,a="Invalid Date",c="toString",l=s[c],o=s.getTime;new Date(NaN)+""!=a&&n(s,c,(function(){var t=o.call(this);return t===t?l.call(this):a}))},1864:function(t,e,i){"use strict";var n=i("bc65"),s=i.n(n);s.a},"1db0":function(t,e,i){"use strict";var n=i("1fb1"),s=i.n(n);s.a},"1fb1":function(t,e,i){},"29fc":function(t,e,i){},"3da5":function(t,e,i){"use strict";var n=i("29fc"),s=i.n(n);s.a},"4fb7":function(t,e,i){},5107:function(t,e,i){},6981:function(t,e,i){},"825e":function(t,e,i){},"8e7b":function(t,e,i){"use strict";var n=i("6981"),s=i.n(n);s.a},9330:function(t,e,i){"use strict";var n=i("d25c"),s=i.n(n);s.a},a34f:function(t,e,i){"use strict";var n=i("5107"),s=i.n(n);s.a},b0c0:function(t,e,i){var n=i("83ab"),s=i("9bf2").f,a=Function.prototype,c=a.toString,l=/^\s*function ([^ (]*)/,o="name";!n||o in a||s(a,o,{configurable:!0,get:function(){try{return c.call(this).match(l)[1]}catch(t){return""}}})},bc65:function(t,e,i){},d25c:function(t,e,i){},dcd3:function(t,e,i){"use strict";var n=i("825e"),s=i.n(n);s.a},f574:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("detail-header"),i("detail-banner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,gallaryImgs:t.gallaryImgs}}),i("div",{staticClass:"map-mark-introduction-container"},[t._m(0),i("div",{staticClass:"map-link-container",on:{click:t.goToMap}},[i("span",{staticClass:"iconfont"},[t._v("")]),i("p",[t._v("辽宁省大连市沙河口区中山路608-6-8号（星海广场西500米，星海公园内）")]),i("span",{staticClass:"iconfont",attrs:{id:"icon-next"}},[t._v("")])])]),i("detail-commend",{on:{showReserve:t.showReserveWindow}}),i("detail-list",{attrs:{list:t.list},on:{showReserve:t.showReserveWindow}}),t.showReserve?i("div",{staticClass:"gray-bg",on:{click:t.showReserveWindow}}):t._e(),i("transition",[t.showReserve?i("reserve-window",{attrs:{buyingTicketName:t.buyingTicketName,ticketPrice:t.ticketPrice},on:{closeWindow:t.showReserveWindow}}):t._e()],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mark-introduction-container"},[i("div",{staticClass:"mark-link-container"},[i("div",{staticClass:"mark-grade"},[i("span",[t._v("4.9")]),t._v("分 很棒 ")]),i("div",{staticClass:"mark-raiders-num"},[t._v("454545条评论 13条攻略")]),i("span",{staticClass:"iconfont",attrs:{id:"icon-next"}},[t._v("")])]),i("div",{staticClass:"introduction-link-container"},[i("h3",[t._v("景点简介")]),i("span",[t._v("开放时间、贴士")]),i("span",{staticClass:"iconfont",attrs:{id:"icon-next"}},[t._v("")])])])}],a=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("2fa7")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[i("img",{staticClass:"banner-img",attrs:{src:"//img1.qunarzz.com/sight/p0/1708/2b/2b3b94de99c0a425a3.img.jpg_600x330_b40971b4.jpg",alt:""}}),i("div",{staticClass:"banner-info"},[i("div",{staticClass:"banner-title"},[t._v(t._s(this.sightName)+t._s(this.sightGrade))]),t._m(0)])]),i("fade-animation",[i("common-gallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],staticClass:"common-gallary",attrs:{gallaryImgs:t.gallaryImgs},on:{close:t.handleGallaryClose}})],1)],1)},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-num"},[i("span",{staticClass:"iconfont icon-pic"},[t._v(" "),i("i",[t._v("39")])])])}],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.handleGallaryClick}},[i("div",{staticClass:"wrapper"},[i("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.gallaryImgs,(function(t,e){return i("swiper-slide",{key:e},[i("img",{staticClass:"gallary-img",attrs:{src:t}})])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},r=[],h={name:"CommonGallary",props:{gallaryImgs:""},data:function(){return{swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction",observeParents:!0,observer:!0}}},methods:{handleGallaryClick:function(){this.$emit("close")}}},d=h,m=(i("ffe6"),i("2877")),u=Object(m["a"])(d,o,r,!1,null,"02a4cf46",null),v=u.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",[t._t("default")],2)},f=[],p={name:"Fade"},b=p,y=(i("1db0"),Object(m["a"])(b,g,f,!1,null,"f5fa2a22",null)),w=y.exports,_={name:"DetailBanner",props:{sightName:"",bannerImg:"",gallaryImgs:"",sightGrade:"(AAA景区)"},components:{CommonGallary:v,FadeAnimation:w},data:function(){return{showGallary:!1,bannerImgs:[]}},methods:{handleBannerClick:function(){this.showGallary=!0},handleGallaryClose:function(){this.showGallary=!1}}},C=_,k=(i("3da5"),Object(m["a"])(C,c,l,!1,null,"5b984b54",null)),T=k.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],attrs:{to:"/"}},[i("div",{staticClass:"header-abs"},[i("div",{staticClass:"iconfont back-icon"},[t._v("")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:t.opacityStyle},[i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"iconfont header-fixed-back"},[t._v("")])]),t._v(" 景点详情 ")],1)],1)},x=[],D={name:"DetailHeader",data:function(){return{showAbs:!0,opacityStyle:{opacity:1}}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=document.documentElement.scrollTop;if(t>40){var e=t/165;e=e>=1?1:e,this.opacityStyle={opacity:e},this.showAbs=!1}else this.showAbs=!0}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},E=D,N=(i("8e7b"),Object(m["a"])(E,O,x,!1,null,"0efae16f",null)),L=N.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-list"},t._l(t.list,(function(e){return i("div",{key:e.id,staticClass:"item"},[i("div",{staticClass:"item-title"},[i("span",{staticClass:"item-title-icon"}),t._v(" "+t._s(e.title)+" ")]),t._l(e.children,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"ticket-class",on:{click:t.toggle}},[i("span",[t._v(t._s(e.title))]),i("span",{staticClass:"iconfont toggle hidden "},[t._v("")]),i("span",{staticClass:"iconfont toggle"},[t._v("")])]),i("div",{staticClass:"commend-list",staticStyle:{display:"none"}},t._l(t.ticketMsg,(function(e,n){return i("div",{key:n,staticClass:"commend-item"},[i("div",{staticClass:"item-left"},[i("div",{staticClass:"ticket"},[t._v(t._s(e.name))]),i("div",{staticClass:"limit-time"},[i("span",{staticClass:"iconfont clock-icon"},[t._v("")]),i("span",{staticClass:"time"},[t._v(t._s(e.buyTime))])]),t._l(e.limitCondition,(function(e,n){return i("span",{key:n,staticClass:"label"},[t._v(t._s(e.limit))])}))],2),i("div",{staticClass:"item-right"},[i("div",{staticClass:"price"},[i("span",{staticClass:"dolor"},[t._v("￥")]),i("span",{staticClass:"money"},[t._v(t._s(e.price))])]),i("div",{staticClass:"reserve-btn",on:{click:function(i){return i.target!==i.currentTarget?null:t.showReserveWindow(e.name,e.price)}}},[t._v("预订")])])])})),0)])}))],2)})),0)},j=[],R={name:"DetailList",props:{list:""},data:function(){return{ticketMsg:[{name:"北京八达岭长城 (旺季) 成人票",price:"45",buyTime:"19:00前可订今日",limitCondition:[{limit:"无需换票"},{limit:"条件退"},{limit:"自营"}]}]}},methods:{toggle:function(t){console.log("123"),"block"===t.currentTarget.nextElementSibling.style.display?t.currentTarget.nextElementSibling.style.display="none":t.currentTarget.nextElementSibling.style.display="block","iconfont toggle hidden"===t.currentTarget.firstElementChild.nextElementSibling.classList["value"]?(t.currentTarget.firstElementChild.nextElementSibling.nextElementSibling.classList["value"]="iconfont toggle hidden",t.currentTarget.firstElementChild.nextElementSibling.classList["value"]="iconfont toggle block"):(t.currentTarget.firstElementChild.nextElementSibling.nextElementSibling.classList["value"]="iconfont toggle block",t.currentTarget.firstElementChild.nextElementSibling.classList["value"]="iconfont toggle hidden")},showReserveWindow:function(t,e){console.log("点击了预订按钮"),this.$emit("showReserve",t,e)}},watch:{list:function(t,e){for(var i=[],n=0;n<t.length;n++){i[n]=[];for(var s=0;s<t["0"].children.length;s++)i[n][s]=!1}console.log(t["0"].children.length,t.length,i)}}},I=R,P=(i("dcd3"),Object(m["a"])(I,S,j,!1,null,"fcb124dc",null)),$=P.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"commend"}},[t._m(0),i("div",{staticClass:"commend-list"},t._l(t.ticketMsg,(function(e,n){return i("div",{key:n,staticClass:"commend-item"},[i("div",{staticClass:"item-left"},[i("div",{staticClass:"ticket"},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"limit-time"},[i("span",{staticClass:"iconfont clock-icon"},[t._v("")]),i("span",{staticClass:"time"},[t._v(" "+t._s(e.buyTime))])]),t._l(e.limitCondition,(function(e,n){return i("span",{key:n,staticClass:"label"},[t._v(" "+t._s(e.limit)+" ")])}))],2),i("div",{staticClass:"item-right"},[i("div",{staticClass:"price"},[i("span",{staticClass:"dolor"},[t._v("￥")]),i("span",{staticClass:"money"},[t._v(t._s(e.price))])]),i("div",{staticClass:"reserve-btn",on:{click:function(i){return i.target!==i.currentTarget?null:t.showReserveWindow(e.name,e.price)}}},[t._v(" 预订 ")])])])})),0)])},W=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("span",{staticClass:"iconfont"},[t._v("")]),i("h2",[t._v("官方推荐")])])}],M={name:"Commend",props:{showReserve:""},data:function(){return{ticketMsg:[{name:"北京八达岭长城 (旺季) 成人票",price:"45",buyTime:"19:00前可订今日",limitCondition:[{limit:"无需换票"},{limit:"条件退"},{limit:"自营"}]},{name:"北京八达岭长城 (旺季) 成人票",price:"45",buyTime:"19:00前可订今日",limitCondition:[{limit:"无需换票"},{limit:"条件退"},{limit:"自营"}]},{name:"北京八达岭长城 (旺季) 成人票",price:"45",buyTime:"19:00前可订今日",limitCondition:[{limit:"无需换票"},{limit:"条件退"},{limit:"自营"}]}]}},methods:{showReserveWindow:function(t,e){console.log("点击了预订按钮"),this.$emit("showReserve",t,e)}}},A=M,B=(i("1864"),Object(m["a"])(A,G,W,!1,null,"3bec8732",null)),z=B.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{attrs:{id:"reserve-btn"}},[t._v("立即预定")]),i("div",{staticClass:"reserve-msg"},[i("div",{staticClass:"back-reserve",on:{click:t.closeWindow}},[t._v(" x ")]),i("h2",[t._v(t._s(this.buyingTicketName))]),i("div",{staticClass:"ticket-price"},[i("span",{staticClass:"doller"},[t._v("￥")]),i("span",{staticClass:"price"},[t._v(t._s(this.ticketPrice))]),t._v(" /张 ")]),i("h4",[t._v("价格日历")]),i("div",{staticClass:"day-container"},[t._l(t.dayList,(function(e,n){return i("div",{key:n,staticClass:"choose-day",class:{bgBlue:e.light},on:{click:function(i){return t.chooseTime(e.name)}}},[i("p",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.day))])])})),i("div",{staticClass:"choose-day",class:{bgBlue:t.light3},on:{click:function(e){return t.chooseTime("自定义")}}},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{id:"xxx",size:"mini",format:"MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])],2),i("p",{staticClass:"prompt"},[t._v("需要在游玩的当天19:00前预定")])])])},H=[],J=(i("0d03"),i("b0c0"),{name:"ReserveWindow",props:{buyingTicketName:"",ticketPrice:""},data:function(){return{radio1:"上海",pickerOptions:{},value:"222",value1:"",light3:!1,whichDay:"今天",whichOneLight:0,dayList:[{name:"今天",day:this.today(),light:!1},{name:"明天",day:this.tomorrow(),light:!1},{name:"后天",day:this.theDayAfterTomorrow(),light:!1}]}},methods:{closeWindow:function(){this.$emit("closeWindow")},today:function(){var t=new Date;t.setTime(t.getTime());var e=t.getMonth()+1+"-"+t.getDate();return e},tomorrow:function(){var t=new Date;t.setTime(t.getTime()+864e5);var e=t.getMonth()+1+"-"+t.getDate();return e},theDayAfterTomorrow:function(){var t=new Date;t.setTime(t.getTime()+1728e5);var e=t.getMonth()+1+"-"+t.getDate();return e},chooseTime:function(t){console.log();for(var e=0;e<3;e++)this.dayList[e].light=!1;switch(t){case"今天":this.whichOneLight=0;break;case"明天":this.whichOneLight=1;break;case"后天":this.whichOneLight=2;break;case"自定义":this.whichOneLight=3;break}this.whichOneLight<=2?(this.light3=!1,this.dayList[this.whichOneLight].light=!0,this.whichDay=this.dayList[this.whichOneLight].name):console.log(this.value1)}},mounted:function(){console.log(this.buyingTicketName)},watch:{value1:function(t,e){var i=t.getMonth()+1+"-"+t.getDate();this.value=i,this.light3=!0,this.whichDay=t.getMonth()+1+"-"+t.getDate()}}}),V=J,q=(i("9330"),Object(m["a"])(V,F,H,!1,null,"275eb2b4",null)),K=q.exports,Q=i("2f62"),U=i("bc3a"),X=i.n(U);function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(i,!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var tt={name:"Detail",components:{DetailHeader:L,DetailBanner:T,DetailList:$,DetailCommend:z,ReserveWindow:K},data:function(){return{buyingTicketName:"",buyingTicketPrice:"",sightName:"",bannerImg:"",gallaryImgs:[],list:[],showReserve:!1,tickName:""}},mounted:function(){this.getDetailInfo()},methods:Z({getDetailInfo:function(){X.a.get("/detail").then(this.handleGetDataSucc).catch((function(t){console.log(t)}))},handleGetDataSucc:function(t){if(console.log(t),t){var e=t.data;this.sightName=e.sightName,this.bannerImg=e.bannerImg,this.gallaryImgs=e.gallaryImgs,this.list=e.categoryList}},goToMap:function(){this.changeViewPoint(this.sightName),this.$router.push({path:"Map"})},showReserveWindow:function(t,e){console.log(this.buyingTicketName),this.buyingTicketName=t,this.ticketPrice=e,console.log("在detail里触发了"+this.buyingTicketName,this.ticketPrice),console.log(this.buyingTicketName),this.showReserve=!this.showReserve}},Object(Q["b"])(["changeViewPoint"]))},et=tt,it=(i("a34f"),Object(m["a"])(et,n,s,!1,null,"0b5c5d7e",null));e["default"]=it.exports},ffe6:function(t,e,i){"use strict";var n=i("4fb7"),s=i.n(n);s.a}}]);
//# sourceMappingURL=chunk-344848ae.f93a0729.js.map