{"version":3,"sources":["webpack:///./src/views/Map/Map.vue?c267","webpack:///./src/common/map/BMapComponent.vue?1d47","webpack:///./src/views/Map/Map.vue?627b","webpack:///./src/common/map/BMapComponent.vue?a899","webpack:///src/common/map/BMapComponent.vue","webpack:///./src/common/map/BMapComponent.vue?3bf7","webpack:///./src/common/map/BMapComponent.vue","webpack:///src/views/Map/Map.vue","webpack:///./src/views/Map/Map.vue?91c7","webpack:///./src/views/Map/Map.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","mapHeight","viewPoint","staticRenderFns","style","width","height","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"gHAAA,yBAAyjB,EAAG,G,kCCA5jB,yBAAmkB,EAAG,G,yCCAtkB,I,EAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,SAASR,EAAIQ,GAAG,UAAU,GAAGJ,EAAG,kBAAkB,CAACE,YAAY,QAAQC,MAAM,CAAC,UAAYP,EAAIS,UAAU,UAAYR,KAAKS,cAAc,IACxYC,EAAkB,G,4GCDlB,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,MAAM,CAAEC,MAAO,OAAQC,OAAQd,EAAIS,UAAY,MAAOF,MAAM,CAAC,GAAK,gBACxK,EAAkB,GCOtB,G,UAAA,CACE,KAAF,gBACE,MAAF,CACI,UAAJ,GACI,UAAJ,IAEE,KANF,WAOI,MAAJ,IAGE,QAAF,CACI,QADJ,WAEM,IAKN,4BAEA,eAGM,EAAN,uCAIM,EAAN,oCAEA,gBAAM,IACN,oBAEM,QAAN,oBAGM,EAAN,qCAEA,MACA,MACA,IACU,EAAV,oBAEU,EAAV,kCAIM,MACN,qBAGM,SAAN,KACA,aACA,aACQ,IAAR,4CACA,qBAEQ,EAAR,cACA,OACA,yBAIM,IAAN,qBACM,EAAN,SAcE,QA5EF,WA4EI,IAAJ,OACI,YAAJ,WACM,EAAN,YACA,KACI,QAAJ,qBAEE,QAlFF,eCRsW,I,wBCQlWQ,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,okBCHf,UACE,KAAF,MACE,WAAF,CACI,cAAJ,GAEE,KALF,WAMI,MAAJ,IAIE,SAAF,KAEA,gCAZA,oCAeE,MAAF,CAGI,UAAJ,kCAlBA,8CChB4V,ICQxV,G,UAAY,eACd,EACAhB,EACAY,GACA,EACA,KACA,WACA,OAIa,e,8BCnBf,IAAIK,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,QAIPT,GAAiBS,KAAQN,GAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAK3B,MAAM4B,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO,Q","file":"js/chunk-6ae1b5bf.22349248.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=8725aee0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=8725aee0&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMapComponent.vue?vue&type=style&index=0&id=5413fd70&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMapComponent.vue?vue&type=style&index=0&id=5413fd70&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-page\"},[_c('div',{staticClass:\"header\"},[_c('router-link',{attrs:{\"to\":\"/detail\"}},[_c('div',{staticClass:\"iconfont header-back\"},[_vm._v(\"\")])]),_vm._v(\"景点地址 \")],1),_c('b-map-component',{staticClass:\"b-map\",attrs:{\"mapHeight\":_vm.mapHeight,\"sightName\":this.viewPoint}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({width: '100%', height: _vm.mapHeight + 'px'}),attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!--<div id=\"allmap\" style=\"width: 100%; height: {{mapHeight}}px\"></div>-->\r\n    <!--<div id=\"allmap\":style=\"{width: '100%', height: mapHeight + 'px'}\"></div>-->\r\n\r\n    <div id=\"container\" :style=\"{width: '100%', height: mapHeight + 'px'}\"></div> \r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"BMapComponent\",\r\n        props:{\r\n            mapHeight:'',\r\n            sightName:'',\r\n        },\r\n        data(){\r\n            return{\r\n            }\r\n        },\r\n        methods:{\r\n            initMap(){\r\n                let startLng='';\r\n                let startLat='';\r\n                let endLng='';\r\n                let endLat='';\r\n                // setp 1.初始化地图\r\n                var map = new BMap.Map(\"container\");    \r\n                // 生成坐标点\r\n                var point = new BMap.Point();    \r\n                // map.centerAndZoom(point, 15);                 \r\n                // 平移缩放控件   \r\n                map.addControl(new BMap.NavigationControl());  \r\n                // 比例尺控件  \r\n                // map.addControl(new BMap.ScaleControl());    \r\n                // 切换地图类型控件\r\n                map.addControl(new BMap.MapTypeControl());  \r\n                // 根据坐标点实例化一个小红标\r\n                var marker = new BMap.Marker();        \r\n                var myGeo = new BMap.Geocoder();      \r\n                // setp 2.获取景点坐标\r\n                console.log(this.sightName)\r\n                // 将地址解析结果显示在地图上，并调整地图视野   \r\n                // 这里要传一个景点的值，可以可以快速聚焦   \r\n                myGeo.getPoint(this.sightName, function(point){\r\n                    \r\n                    endLng=point.lng;\r\n                    endLat=point.lat;\r\n                    if (point) {      \r\n                        map.centerAndZoom(point, 17);  \r\n                        // 创建景点标注       \r\n                        map.addOverlay(new BMap.Marker(point));      \r\n                    }      \r\n                }, \r\n                // 这里还要加个城市限定，缩小搜索范围，不然搜不到\r\n                '辽宁');\r\n                var geolocation = new BMap.Geolocation();\r\n                // console.log(geolocation)\r\n                // 给访问者做标记\r\n                function myFun(result){\r\n                    startLng=result.center.lng;\r\n                    startLat=result.center.lat;\r\n                    var point2 = new BMap.Point(result.center.lng, result.center.lat);   \r\n                    var marker2 = new BMap.Marker(point2);\r\n                    // 创建起始城市标注    \r\n                    map.addOverlay(marker2);\r\n                    var cityName = result.name;\r\n                    var marker = new BMap.Marker(result.point);  \r\n                    // map.setCenter(cityName);\r\n                    // alert(\"当前定位城市:\"+cityName);\r\n                }\r\n                var myCity = new BMap.LocalCity();\r\n                myCity.get(myFun); \r\n                // var map = new BMap.Map(\"container\"); \r\n            //    map.centerAndZoom(new BMap.Point(116.404, 39.915), 14); \r\n                // var driving = new BMap.DrivingRoute(map, { \r\n                //     renderOptions: { \r\n                //         map: map, \r\n                //         autoViewport: true \r\n                // } \r\n                // });\r\n                // var start = new BMap.Point(startLng, startLat);\r\n                // var end = new BMap.Point(endLng, endLat);\r\n                // driving.search(start, end);\r\n            }\r\n        },\r\n        created(){\r\n           setTimeout(() => {\r\n               this.initMap();\r\n           }, 3000);\r\n           console.log(this.sightName);\r\n        },\r\n        mounted(){\r\n            \r\n        },\r\n    }\r\n\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n    #container{\r\n        width: 100%;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMapComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMapComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BMapComponent.vue?vue&type=template&id=5413fd70&scoped=true&\"\nimport script from \"./BMapComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./BMapComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BMapComponent.vue?vue&type=style&index=0&id=5413fd70&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5413fd70\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"map-page\">\r\n    <div class=\"header\" >\r\n      <router-link to=\"/detail\">\r\n        <div class=\"iconfont header-back\">&#xe618;</div>\r\n      </router-link>景点地址\r\n    </div>\r\n    <b-map-component class=\"b-map\" :mapHeight=\"mapHeight\" :sightName='this.viewPoint'></b-map-component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState, mapGetters } from \"vuex\";\r\n\r\nimport BMapComponent from '@/common/map/BMapComponent.vue';\r\nexport default {\r\n    name:'Map',\r\n    components:{\r\n        BMapComponent\r\n    }, \r\n    data(){\r\n      return{\r\n        // sightName:this.viewPoint,\r\n      }\r\n    },\r\n    computed:{\r\n        // 从vuex映射到组件里并将city加入计算属性中\r\n        ...mapState(['viewPoint']),\r\n    },\r\n    data(){\r\n        return{\r\n            // 地图的高度就是页面高度减去页眉高度\r\n            // 地图必须有一个固定高度，不然会报错，而且高度最好填满页面，不然会有缝隙\r\n            mapHeight:document.body.clientHeight-43,\r\n        }\r\n    },\r\n    mounted(){\r\n        // console.log(this.viewPoint);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n@import url(\"~@/assets/styles/varibles.less\");\r\n@import url(\"~@/assets/styles/iconfont.css\");\r\n.map-page {\r\n  height: 100%;\r\n}\r\n.header {\r\n  position: relative;\r\n  height: @headerHeight;\r\n  line-height: @headerHeight;\r\n  text-align: center;\r\n  background: @bgColor;\r\n  color: #fff;\r\n  .header-back {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 32px;\r\n    color: #fff;\r\n  }\r\n}\r\n#map-container{\r\n    width: 100%;\r\n    height: 500px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=8725aee0&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=8725aee0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8725aee0\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}